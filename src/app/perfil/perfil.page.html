<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Perfil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="miperfil">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Perfil</ion-card-title>
      </ion-card-header>
      <ion-card-content>

        <div *ngIf="user">
          <h1>Bienvenido, {{ nombre }}</h1>
                    <ion-card>
            <ion-item lines="none">
              <ion-avatar slot="start">
                <img *ngIf="foto" [src]="imagen" alt="Foto de perfil">
              </ion-avatar>
              <ion-label>
                Usuario: {{ nombre }}
              </ion-label>
            </ion-item>
            <ion-item lines="none" button (click)="updateFoto()">
              <ion-label>Actualizar Foto de Perfil</ion-label>
            </ion-item>
          </ion-card>
        </div>
        <div *ngIf="!user">
          <p>No se encontr贸 el usuario. Por favor, inicie sesi贸n.</p>
          <ion-button routerLink="/login">Iniciar Sesi贸n</ion-button>
        </div>

        <ion-item>
          <ion-label position="floating">Nombre</ion-label>
          <ion-input type="text" [(ngModel)]="nombre" readonly></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Apellido1</ion-label>
          <ion-input type="text" [(ngModel)]="apellido1" readonly></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Apellido2</ion-label>
          <ion-input type="text" [(ngModel)]="apellido2" readonly></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Email</ion-label>
            <ion-input type="text" [(ngModel)]="email" readonly></ion-input>
        </ion-item>

        <ion-button (click)="logout()">Cerrar Sesi贸n</ion-button>

      </ion-card-content>
    </ion-card>
  </div>
</ion-content>